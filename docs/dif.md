–û—á–µ–Ω—å —Ö–æ—Ä–æ—à–∏–π –≤–æ–ø—Ä–æ—Å!
–Ø —Ç–µ–±–µ —Å–µ–π—á–∞—Å –æ–±—ä—è—Å–Ω—é –ø–æ —à–∞–≥–∞–º, **–∫–∞–∫ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø—Ä–æ—Å—Ç–æ–π –ø–æ–∏—Å–∫ ¬´–∫–∞–∫ –≤ –í–∏–∫–∏–ø–µ–¥–∏–∏¬ª –≤ Rails 8.0.2** ‚Äî —Ç–æ –µ—Å—Ç—å –∫–æ–≥–¥–∞ —Ç—ã –≤–≤–æ–¥–∏—à—å —Å–ª–æ–≤–æ, –∞ —Ç–µ–±–µ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –≤—Å–µ —Å—Ç–∞—Ç—å–∏, –≥–¥–µ –æ–Ω–æ –≤—Å—Ç—Ä–µ—á–∞–µ—Ç—Å—è –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ –∏–ª–∏ —Ç–µ–∫—Å—Ç–µ.

---

## ‚úÖ 1Ô∏è‚É£ –î–æ–±–∞–≤—å –ø–æ–ª–µ –≤–≤–æ–¥–∞ –∏ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –ø–æ–∏—Å–∫–∞

–ü—Ä–µ–¥–ø–æ–ª–æ–∂–∏–º, —É —Ç–µ–±—è –µ—Å—Ç—å –º–æ–¥–µ–ª—å `Article`:

```ruby
rails generate model Article title:string content:text
rails db:migrate
```

---

## ‚úÖ 2Ô∏è‚É£ –î–æ–±–∞–≤—å —Ñ–æ—Ä–º—É –ø–æ–∏—Å–∫–∞ –≤ `app/views/layouts/application.html.erb`

(—á—Ç–æ–±—ã –æ–Ω–∞ –±—ã–ª–∞ –Ω–∞ –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö)

–ù–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä—è–º–æ –≤ —à–∞–ø–∫–µ —Å–∞–π—Ç–∞:

```erb
<%= form_with url: search_articles_path, method: :get, local: true do |form| %>
  <%= form.text_field :query, placeholder: "–ü–æ–∏—Å–∫ –ø–æ —Å—Ç–∞—Ç—å—è–º..." %>
  <%= form.submit "–ù–∞–π—Ç–∏" %>
<% end %>
```

---

## ‚úÖ 3Ô∏è‚É£ –î–æ–±–∞–≤—å –º–∞—Ä—à—Ä—É—Ç –¥–ª—è –ø–æ–∏—Å–∫–∞ –≤ `config/routes.rb`:

```ruby
resources :articles do
  collection do
    get :search
  end
end
```

---

## ‚úÖ 4Ô∏è‚É£ –†–µ–∞–ª–∏–∑—É–π —ç–∫—à–µ–Ω `search` –≤ `ArticlesController`:

```ruby
class ArticlesController < ApplicationController
  def search
    @query = params[:query]

    if @query.present?
      @articles = Article.where("title ILIKE ? OR content ILIKE ?", "%#{@query}%", "%#{@query}%")
    else
      @articles = Article.none
    end
  end
end
```

- `ILIKE` ‚Äî —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ PostgreSQL –¥–ª—è –ø–æ–∏—Å–∫–∞ –±–µ–∑ —É—á—ë—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞.
- –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—à—å SQLite –∏–ª–∏ MySQL ‚Äî –∑–∞–º–µ–Ω–∏ –Ω–∞ `LIKE`.

---

## ‚úÖ 5Ô∏è‚É£ –°–æ–∑–¥–∞–π —à–∞–±–ª–æ–Ω `app/views/articles/search.html.erb`:

```erb
<h1>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞: <%= @query %></h1>

<% if @articles.any? %>
  <ul>
    <% @articles.each do |article| %>
      <li>
        <strong><%= link_to article.title, article %></strong><br>
        <%= truncate(article.content, length: 150) %>
      </li>
    <% end %>
  </ul>
<% else %>
  <p>–ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ.</p>
<% end %>
```

---

## ‚úÖ 6Ô∏è‚É£ –ì–æ—Ç–æ–≤–æ!

–¢–µ–ø–µ—Ä—å:

- –í–≤–æ–¥–∏—à—å –∑–∞–ø—Ä–æ—Å –≤ –ø–æ–ª–µ ‚Äî `GET /articles/search?query=—Ç–≤–æ–µ_—Å–ª–æ–≤–æ`
- –†–µ–ª—å—Å—ã –∏—â—É—Ç –ø–æ –∑–∞–≥–æ–ª–æ–≤–∫—É –∏ —Ç–µ–∫—Å—Ç—É.

---

## üöÄ –ï—Å–ª–∏ —Ö–æ—á–µ—à—å ¬´—É–º–Ω—ã–π¬ª –ø–æ–∏—Å–∫

–î–ª—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ –º–æ–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å:

- **pg_search** ‚Äî –±—ã—Å—Ç—Ä—ã–π –ø–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫ –≤ PostgreSQL.
- **Elasticsearch** ‚Äî –µ—Å–ª–∏ –Ω—É–∂–Ω–∞ –±—ã—Å—Ç—Ä–∞—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è.

---

–ï—Å–ª–∏ —Ö–æ—á–µ—à—å, —è –º–æ–≥—É –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –ø—Ä–∏–º–µ—Ä —Å `pg_search` –∏–ª–∏ –ø–æ–º–æ—á—å –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ-–ø–æ–¥—Å–∫–∞–∑–∫–∏, –∫–∞–∫ –≤ –í–∏–∫–∏–ø–µ–¥–∏–∏. –°–∫–∞–∂–∏! üîç‚ú®
